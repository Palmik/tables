<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Table</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Table.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Table.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">tables-0.1: In-memory storage with multiple keys using lenses</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Data.Table</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Tables
</a><ul><li><a href="#g:2">Table Construction
</a></li><li><a href="#g:3">Reading and Writing
</a></li></ul></li><li><a href="#g:4">Esoterica
</a></li><li><a href="#g:5">Implementation Details
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides tables with multiple indices that support a simple
 API based on the lenses and traversals from the <code>lens</code> package.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Table">Table</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:EmptyTable">EmptyTable</a> ::  <a href="Data-Table.html#t:Table">Table</a> t  </li><li><a href="#v:Table">Table</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; <a href="Data-Table.html#t:Tab">Tab</a> t (<a href="Data-Table.html#t:Index">Index</a> t) -&gt; <a href="Data-Table.html#t:Table">Table</a> t  </li></ul></li><li class="src short"><span class="keyword">class</span> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-Table.html#t:PKT">PKT</a> t) =&gt; <a href="#t:Tabular">Tabular</a> t  <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:PKT">PKT</a> t </li><li><span class="keyword">data</span> <a href="#t:Tab">Tab</a> t m </li><li><span class="keyword">data</span> <a href="#t:Key">Key</a> k t :: * -&gt; *</li><li><a href="#v:index">index</a> ::  <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; t -&gt; a</li><li><a href="#v:primary">primary</a> :: <a href="Data-Table.html#t:Key">Key</a> <a href="Data-Table.html#t:Primary">Primary</a> t (<a href="Data-Table.html#t:PKT">PKT</a> t)</li><li><a href="#v:primarily">primarily</a> ::  <a href="Data-Table.html#t:Key">Key</a> <a href="Data-Table.html#t:Primary">Primary</a> t a -&gt; (a ~ <a href="Data-Table.html#t:PKT">PKT</a> t =&gt; r) -&gt; r</li><li><a href="#v:mkTab">mkTab</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> h =&gt; (<span class="keyword">forall</span> k a. (<a href="Data-Table.html#t:IsKeyType">IsKeyType</a> k, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; h (i k a)) -&gt; h (<a href="Data-Table.html#t:Tab">Tab</a> t i)</li><li><a href="#v:ixTab">ixTab</a> ::  <a href="Data-Table.html#t:Tab">Tab</a> t i -&gt; <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; i k a</li><li><a href="#v:forTab">forTab</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> h =&gt; <a href="Data-Table.html#t:Tab">Tab</a> t i -&gt; (<span class="keyword">forall</span> k a. (<a href="Data-Table.html#t:IsKeyType">IsKeyType</a> k, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; i k a -&gt; h (j k a)) -&gt; h (<a href="Data-Table.html#t:Tab">Tab</a> t j)</li><li><a href="#v:autoTab">autoTab</a> :: t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Table.html#t:Tab">Tab</a> t (<a href="Data-Table.html#t:Index">Index</a> t) -&gt; t)</li></ul></li><li class="src short"><a href="#v:empty">empty</a> ::  <a href="Data-Table.html#t:Table">Table</a> t</li><li class="src short"><a href="#v:singleton">singleton</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; t -&gt; <a href="Data-Table.html#t:Table">Table</a> t</li><li class="src short"><a href="#v:table">table</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> [t] (<a href="Data-Table.html#t:Table">Table</a> t)</li><li class="src short"><a href="#v:fromList">fromList</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; [t] -&gt; <a href="Data-Table.html#t:Table">Table</a> t</li><li class="src short"><a href="#v:null">null</a> ::  <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:count">count</a> ::  <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">class</span>  <a href="#t:With">With</a> q t | q -&gt; t <span class="keyword">where</span><ul class="subs"><li><a href="#v:with">with</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; q a -&gt; (<span class="keyword">forall</span> x. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> x =&gt; x -&gt; x -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; a -&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Data-Table.html#t:Table">Table</a> t) (<a href="Data-Table.html#t:Table">Table</a> t)</li><li><a href="#v:group">group</a> :: (<a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Internal.html#t:Indexable">Indexable</a> a p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; q a -&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:IndexedLensLike-39-">IndexedLensLike'</a> p f (<a href="Data-Table.html#t:Table">Table</a> t) (<a href="Data-Table.html#t:Table">Table</a> t)</li><li><a href="#v:deleteWith">deleteWith</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; q a -&gt; (<span class="keyword">forall</span> x. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> x =&gt; x -&gt; x -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; a -&gt; <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="Data-Table.html#t:Table">Table</a> t</li></ul></li><li class="src short"><a href="#v:insert">insert</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; t -&gt; <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="Data-Table.html#t:Table">Table</a> t</li><li class="src short"><a href="#v:delete">delete</a> ::  t -&gt; <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="Data-Table.html#t:Table">Table</a> t</li><li class="src short"><a href="#v:rows">rows</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Traversal">Traversal</a> (<a href="Data-Table.html#t:Table">Table</a> s) (<a href="Data-Table.html#t:Table">Table</a> t) s t</li><li class="src short"><a href="#v:rows-39-">rows'</a> ::  <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> (<a href="Data-Table.html#t:Table">Table</a> t) t</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Auto">Auto</a> a = <a href="#v:Auto">Auto</a> !<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> a</li><li class="src short"><a href="#v:autoKey">autoKey</a> ::  <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Data-Table.html#t:Auto">Auto</a> a) <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:auto">auto</a> ::  a -&gt; <a href="Data-Table.html#t:Auto">Auto</a> a</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Value">Value</a> a = <a href="#v:Value">Value</a> a</li><li class="src short"><a href="#v:autoIncrement">autoIncrement</a> :: (<a href="Data-Table.html#t:Tabular">Tabular</a> t, <a href="Data-Table.html#t:PKT">PKT</a> t ~ <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) =&gt; Loupe' t <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Table.html#t:Tab">Tab</a> t (<a href="Data-Table.html#t:Index">Index</a> t) -&gt; t)</li><li class="src short"><span class="keyword">class</span>  <a href="#t:IsKeyType">IsKeyType</a> k  <span class="keyword">where</span><ul class="subs"><li><a href="#v:keyType">keyType</a> ::  <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; <a href="Data-Table.html#t:KeyType">KeyType</a> k</li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:KeyType">KeyType</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:Primary">Primary</a> ::  <a href="Data-Table.html#t:KeyType">KeyType</a> <a href="Data-Table.html#t:Primary">Primary</a>  </li><li><a href="#v:Candidate">Candidate</a> ::  <a href="Data-Table.html#t:KeyType">KeyType</a> <a href="Data-Table.html#t:Candidate">Candidate</a>  </li><li><a href="#v:Supplemental">Supplemental</a> ::  <a href="Data-Table.html#t:KeyType">KeyType</a> <a href="Data-Table.html#t:Supplemental">Supplemental</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Primary">Primary</a> </li><li class="src short"><span class="keyword">data</span>  <a href="#t:Candidate">Candidate</a> </li><li class="src short"><span class="keyword">data</span>  <a href="#t:Supplemental">Supplemental</a> </li><li class="src short"><span class="keyword">data</span>  <a href="#t:Index">Index</a> t k a <span class="keyword">where</span><ul class="subs"><li><a href="#v:PrimaryIndex">PrimaryIndex</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> (<a href="Data-Table.html#t:PKT">PKT</a> t) t -&gt; <a href="Data-Table.html#t:Index">Index</a> t <a href="Data-Table.html#t:Primary">Primary</a> a  </li><li><a href="#v:CandidateIndex">CandidateIndex</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> a t -&gt; <a href="Data-Table.html#t:Index">Index</a> t <a href="Data-Table.html#t:Candidate">Candidate</a> a  </li><li><a href="#v:SupplementalIndex">SupplementalIndex</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> a [t] -&gt; <a href="Data-Table.html#t:Index">Index</a> t <a href="Data-Table.html#t:Supplemental">Supplemental</a> a  </li></ul></li></ul></div><div id="interface"><h1 id="g:1">Tables
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Table" class="def">Table</a> t <span class="keyword">where</span><a href="src/Data-Table.html#Table" class="link">Source</a></p><div class="doc"><p>Every <code><a href="Data-Table.html#t:Table">Table</a></code> has a <code><a href="Data-Table.html#t:Primary">Primary</a></code> <code>key</code> and may have <code><a href="Data-Table.html#t:Candidate">Candidate</a></code> or
 <code><a href="Data-Table.html#t:Supplemental">Supplemental</a></code> keys.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:EmptyTable" class="def">EmptyTable</a> ::  <a href="Data-Table.html#t:Table">Table</a> t</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Table" class="def">Table</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; <a href="Data-Table.html#t:Tab">Tab</a> t (<a href="Data-Table.html#t:Index">Index</a> t) -&gt; <a href="Data-Table.html#t:Table">Table</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Table" class="caption collapser" onclick="toggleSection('i:Table')">Instances</p><div id="section.i:Table" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Data-Table.html#t:Table">Table</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Data-Table.html#t:Table">Table</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Table.html#t:Table">Table</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Table.html#t:Tabular">Tabular</a> t, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> t) =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> (<a href="Data-Table.html#t:Table">Table</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-Table.html#t:Table">Table</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Table.html#t:Tabular">Tabular</a> t, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> t) =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> (<a href="Data-Table.html#t:Table">Table</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> (<a href="Data-Table.html#t:Table">Table</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Data-Table.html#t:Table">Table</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-Table.html#t:PKT">PKT</a> t) =&gt; <a name="t:Tabular" class="def">Tabular</a> t  <span class="keyword">where</span><a href="src/Data-Table.html#Tabular" class="link">Source</a></p><div class="doc"><p>This class describes how to index a user-defined data type.
</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:PKT" class="def">PKT</a> t <a href="src/Data-Table.html#PKT" class="link">Source</a></p><div class="doc"><p>The primary key type
</p></div><p class="src"><span class="keyword">data</span> <a name="t:Tab" class="def">Tab</a> t m <a href="src/Data-Table.html#Tab" class="link">Source</a></p><div class="doc"><p>Used to store indices
</p></div><p class="src"><span class="keyword">data</span> <a name="t:Key" class="def">Key</a> k t :: * -&gt; *<a href="src/Data-Table.html#Key" class="link">Source</a></p><div class="doc"><p>The type used internally for columns
</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:index" class="def">index</a> ::  <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; t -&gt; a<a href="src/Data-Table.html#index" class="link">Source</a></p><div class="doc"><p>Extract the value of a <code><a href="Data-Table.html#t:Key">Key</a></code>
</p></div><p class="src"><a name="v:primary" class="def">primary</a> :: <a href="Data-Table.html#t:Key">Key</a> <a href="Data-Table.html#t:Primary">Primary</a> t (<a href="Data-Table.html#t:PKT">PKT</a> t)<a href="src/Data-Table.html#primary" class="link">Source</a></p><div class="doc"><p>Every <code><a href="Data-Table.html#t:Table">Table</a></code> has one <code><a href="Data-Table.html#t:Primary">Primary</a></code> <code><a href="Data-Table.html#t:Key">Key</a></code>
</p></div><p class="src"><a name="v:primarily" class="def">primarily</a> ::  <a href="Data-Table.html#t:Key">Key</a> <a href="Data-Table.html#t:Primary">Primary</a> t a -&gt; (a ~ <a href="Data-Table.html#t:PKT">PKT</a> t =&gt; r) -&gt; r<a href="src/Data-Table.html#primarily" class="link">Source</a></p><div class="doc"><p>... and so if you find one, it had better be that one!
</p></div><p class="src"><a name="v:mkTab" class="def">mkTab</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> h =&gt; (<span class="keyword">forall</span> k a. (<a href="Data-Table.html#t:IsKeyType">IsKeyType</a> k, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; h (i k a)) -&gt; h (<a href="Data-Table.html#t:Tab">Tab</a> t i)<a href="src/Data-Table.html#mkTab" class="link">Source</a></p><div class="doc"><p>Construct a <code><a href="Data-Table.html#t:Tab">Tab</a></code> given a function from key to index.
</p></div><p class="src"><a name="v:ixTab" class="def">ixTab</a> ::  <a href="Data-Table.html#t:Tab">Tab</a> t i -&gt; <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; i k a<a href="src/Data-Table.html#ixTab" class="link">Source</a></p><div class="doc"><p>Lookup an index in a <code><a href="Data-Table.html#t:Tab">Tab</a></code>
</p></div><p class="src"><a name="v:forTab" class="def">forTab</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> h =&gt; <a href="Data-Table.html#t:Tab">Tab</a> t i -&gt; (<span class="keyword">forall</span> k a. (<a href="Data-Table.html#t:IsKeyType">IsKeyType</a> k, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; i k a -&gt; h (j k a)) -&gt; h (<a href="Data-Table.html#t:Tab">Tab</a> t j)<a href="src/Data-Table.html#forTab" class="link">Source</a></p><div class="doc"><p>Loop over each index in a <code><a href="Data-Table.html#t:Tab">Tab</a></code>
</p></div><p class="src"><a name="v:autoTab" class="def">autoTab</a> :: t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Table.html#t:Tab">Tab</a> t (<a href="Data-Table.html#t:Index">Index</a> t) -&gt; t)<a href="src/Data-Table.html#autoTab" class="link">Source</a></p><div class="doc"><p>Adjust a record using meta-information about the table allowing for auto-increments.
</p></div></div><div class="subs instances"><p id="control.i:Tabular" class="caption collapser" onclick="toggleSection('i:Tabular')">Instances</p><div id="section.i:Tabular" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="Data-Table.html#t:Tabular">Tabular</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Table.html#t:Tabular">Tabular</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> k =&gt; <a href="Data-Table.html#t:Tabular">Tabular</a> (k, v)</td><td class="doc"><p>Simple (key, value) pairs
</p></td></tr></table></div></div></div><h2 id="g:2">Table Construction
</h2><div class="top"><p class="src"><a name="v:empty" class="def">empty</a> ::  <a href="Data-Table.html#t:Table">Table</a> t<a href="src/Data-Table.html#empty" class="link">Source</a></p><div class="doc"><p>Construct an empty relation
</p></div></div><div class="top"><p class="src"><a name="v:singleton" class="def">singleton</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; t -&gt; <a href="Data-Table.html#t:Table">Table</a> t<a href="src/Data-Table.html#singleton" class="link">Source</a></p><div class="doc"><p>Construct a relation with a single row
</p></div></div><div class="top"><p class="src"><a name="v:table" class="def">table</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> [t] (<a href="Data-Table.html#t:Table">Table</a> t)<a href="src/Data-Table.html#table" class="link">Source</a></p><div class="doc"><p>Convert a list to and from a <code><a href="Data-Table.html#t:Table">Table</a></code>.
</p><p>The real isomorphism laws hold if the original list makes no use of the auto-increment
 functionality of the table, has no duplicates and is sorted according to the primary key.
</p><p>However,
</p><pre><code><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Iso.html#v:from">from</a></code> <code><a href="Data-Table.html#v:table">table</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> <code><a href="Data-Table.html#v:table">table</a></code> &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:id">id</a></code></pre><p>always holds.
</p></div></div><div class="top"><p class="src"><a name="v:fromList" class="def">fromList</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; [t] -&gt; <a href="Data-Table.html#t:Table">Table</a> t<a href="src/Data-Table.html#fromList" class="link">Source</a></p><div class="doc"><p>Build up a table from a list
</p></div></div><h2 id="g:3">Reading and Writing
</h2><div class="top"><p class="src"><a name="v:null" class="def">null</a> ::  <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a><a href="src/Data-Table.html#null" class="link">Source</a></p><div class="doc"><p>Check to see if the relation is empty
</p></div></div><div class="top"><p class="src"><a name="v:count" class="def">count</a> ::  <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a><a href="src/Data-Table.html#count" class="link">Source</a></p><div class="doc"><p>Retrieve a row count.
</p></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:With" class="def">With</a> q t | q -&gt; t <span class="keyword">where</span><a href="src/Data-Table.html#With" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:with" class="def">with</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; q a -&gt; (<span class="keyword">forall</span> x. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> x =&gt; x -&gt; x -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; a -&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Data-Table.html#t:Table">Table</a> t) (<a href="Data-Table.html#t:Table">Table</a> t)<a href="src/Data-Table.html#with" class="link">Source</a></p><div class="doc"><p>Select a smaller, updateable subset of the rows of a table using an index or an arbitrary function.
</p></div><p class="src"><a name="v:group" class="def">group</a> :: (<a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Internal.html#t:Indexable">Indexable</a> a p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; q a -&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:IndexedLensLike-39-">IndexedLensLike'</a> p f (<a href="Data-Table.html#t:Table">Table</a> t) (<a href="Data-Table.html#t:Table">Table</a> t)<a href="src/Data-Table.html#group" class="link">Source</a></p><div class="doc"><p>Group by a given key or arbitrary function.
</p></div><p class="src"><a name="v:deleteWith" class="def">deleteWith</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; q a -&gt; (<span class="keyword">forall</span> x. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> x =&gt; x -&gt; x -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; a -&gt; <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="Data-Table.html#t:Table">Table</a> t<a href="src/Data-Table.html#deleteWith" class="link">Source</a></p><div class="doc"><p>Delete selected rows from a table
</p><pre><code><a href="Data-Table.html#v:deleteWith">deleteWith</a></code> p cmp a t &#8801; <code><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Setter.html#v:set">set</a></code> (<code><a href="Data-Table.html#v:with">with</a></code> p cmp a) <code><a href="Data-Table.html#v:empty">empty</a></code> t</pre></div></div><div class="subs instances"><p id="control.i:With" class="caption collapser" onclick="toggleSection('i:With')">Instances</p><div id="section.i:With" class="show"><table><tr><td class="src"><a href="Data-Table.html#t:With">With</a> ((-&gt;) t) t</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Table.html#t:With">With</a> (<a href="Data-Table.html#t:Key">Key</a> k t) t</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:insert" class="def">insert</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; t -&gt; <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="Data-Table.html#t:Table">Table</a> t<a href="src/Data-Table.html#insert" class="link">Source</a></p><div class="doc"><p>Insert a row into a relation, removing collisions.
</p></div></div><div class="top"><p class="src"><a name="v:delete" class="def">delete</a> ::  t -&gt; <a href="Data-Table.html#t:Table">Table</a> t -&gt; <a href="Data-Table.html#t:Table">Table</a> t<a href="src/Data-Table.html#delete" class="link">Source</a></p><div class="doc"><p>Delete this row from the database. This will remove any row that collides with the specified
 row on any primary or candidate key.
</p></div></div><div class="top"><p class="src"><a name="v:rows" class="def">rows</a> :: <a href="Data-Table.html#t:Tabular">Tabular</a> t =&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Traversal">Traversal</a> (<a href="Data-Table.html#t:Table">Table</a> s) (<a href="Data-Table.html#t:Table">Table</a> t) s t<a href="src/Data-Table.html#rows" class="link">Source</a></p><div class="doc"><p>Traverse all of the rows in a table, potentially changing table types completely.
</p></div></div><div class="top"><p class="src"><a name="v:rows-39-" class="def">rows'</a> ::  <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> (<a href="Data-Table.html#t:Table">Table</a> t) t<a href="src/Data-Table.html#rows%27" class="link">Source</a></p><div class="doc"><p>Traverse all of the rows in a table without changing any types
</p></div></div><h1 id="g:4">Esoterica
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Auto" class="def">Auto</a> a <a href="src/Data-Table.html#Auto" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Auto" class="def">Auto</a> !<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Auto" class="caption collapser" onclick="toggleSection('i:Auto')">Instances</p><div id="section.i:Auto" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Traversable.html#t:Traversable">Traversable</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Comonad <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Indexed.html#t:FunctorWithIndex">FunctorWithIndex</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Indexed.html#t:FoldableWithIndex">FoldableWithIndex</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Indexed.html#t:TraversableWithIndex">TraversableWithIndex</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> <a href="Data-Table.html#t:Auto">Auto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Internal.html#t:Indexable">Indexable</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> p, ~ (* -&gt; * -&gt; *) q (-&gt;), <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f) =&gt; HasValue p q f (<a href="Data-Table.html#t:Auto">Auto</a> a) (<a href="Data-Table.html#t:Auto">Auto</a> b) a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(~ * a <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, ~ * b <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Each.html#t:Each">Each</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> f (<a href="Data-Table.html#t:Auto">Auto</a> a) (<a href="Data-Table.html#t:Auto">Auto</a> b) a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Table.html#t:Tabular">Tabular</a> (<a href="Data-Table.html#t:Auto">Auto</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Tuple.html#t:Field1">Field1</a> (<a href="Data-Table.html#t:Auto">Auto</a> a) (<a href="Data-Table.html#t:Auto">Auto</a> a) <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Tuple.html#t:Field2">Field2</a> (<a href="Data-Table.html#t:Auto">Auto</a> a) (<a href="Data-Table.html#t:Auto">Auto</a> b) a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:autoKey" class="def">autoKey</a> ::  <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Data-Table.html#t:Auto">Auto</a> a) <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a><a href="src/Data-Table.html#autoKey" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:auto" class="def">auto</a> ::  a -&gt; <a href="Data-Table.html#t:Auto">Auto</a> a<a href="src/Data-Table.html#auto" class="link">Source</a></p><div class="doc"><p>Generate a row with an auto-incremented key
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Value" class="def">Value</a> a <a href="src/Data-Table.html#Value" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Value" class="def">Value</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Value" class="caption collapser" onclick="toggleSection('i:Value')">Instances</p><div id="section.i:Value" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Traversable.html#t:Traversable">Traversable</a> <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Comonad <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ComonadApply <a href="Data-Table.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Iso.html#t:Profunctor">Profunctor</a> p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f, ~ (* -&gt; * -&gt; *) p q) =&gt; HasValue p q f (<a href="Data-Table.html#t:Value">Value</a> a) (<a href="Data-Table.html#t:Value">Value</a> b) a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> a b (<a href="Data-Table.html#t:Value">Value</a> a) (<a href="Data-Table.html#t:Value">Value</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Each.html#t:Each">Each</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> f (<a href="Data-Table.html#t:Value">Value</a> a) (<a href="Data-Table.html#t:Value">Value</a> b) a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="Data-Table.html#t:Tabular">Tabular</a> (<a href="Data-Table.html#t:Value">Value</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/lens-3.8/doc/html/Control-Lens-Tuple.html#t:Field1">Field1</a> (<a href="Data-Table.html#t:Value">Value</a> a) (<a href="Data-Table.html#t:Value">Value</a> b) a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:autoIncrement" class="def">autoIncrement</a> :: (<a href="Data-Table.html#t:Tabular">Tabular</a> t, <a href="Data-Table.html#t:PKT">PKT</a> t ~ <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) =&gt; Loupe' t <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; t -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Table.html#t:Tab">Tab</a> t (<a href="Data-Table.html#t:Index">Index</a> t) -&gt; t)<a href="src/Data-Table.html#autoIncrement" class="link">Source</a></p><div class="doc"><p>This lets you define <code><a href="Data-Table.html#v:autoKey">autoKey</a></code> to increment to 1 greater than the existing maximum key in a table.
</p><p>In order to support this you need a numeric primary key, and the ability to update the primary key in a record, indicated by a
 lens to the field.
</p><p>To enable auto-increment for a table with primary key <code>primaryKeyField</code>, set:
</p><pre><code><a href="Data-Table.html#v:autoKey">autoKey</a></code> = <code><a href="Data-Table.html#v:autoIncrement">autoIncrement</a></code> primaryKeyField</pre></div></div><h1 id="g:5">Implementation Details
</h1><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:IsKeyType" class="def">IsKeyType</a> k  <span class="keyword">where</span><a href="src/Data-Table.html#IsKeyType" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:keyType" class="def">keyType</a> ::  <a href="Data-Table.html#t:Key">Key</a> k t a -&gt; <a href="Data-Table.html#t:KeyType">KeyType</a> k<a href="src/Data-Table.html#keyType" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:IsKeyType" class="caption collapser" onclick="toggleSection('i:IsKeyType')">Instances</p><div id="section.i:IsKeyType" class="show"><table><tr><td class="src"><a href="Data-Table.html#t:IsKeyType">IsKeyType</a> <a href="Data-Table.html#t:Supplemental">Supplemental</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Table.html#t:IsKeyType">IsKeyType</a> <a href="Data-Table.html#t:Candidate">Candidate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Table.html#t:IsKeyType">IsKeyType</a> <a href="Data-Table.html#t:Primary">Primary</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:KeyType" class="def">KeyType</a> t <span class="keyword">where</span><a href="src/Data-Table.html#KeyType" class="link">Source</a></p><div class="doc"><p>Value-level key types
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Primary" class="def">Primary</a> ::  <a href="Data-Table.html#t:KeyType">KeyType</a> <a href="Data-Table.html#t:Primary">Primary</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Candidate" class="def">Candidate</a> ::  <a href="Data-Table.html#t:KeyType">KeyType</a> <a href="Data-Table.html#t:Candidate">Candidate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Supplemental" class="def">Supplemental</a> ::  <a href="Data-Table.html#t:KeyType">KeyType</a> <a href="Data-Table.html#t:Supplemental">Supplemental</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Primary" class="def">Primary</a>  <a href="src/Data-Table.html#Primary" class="link">Source</a></p><div class="doc"><p>Type level key types
</p></div><div class="subs instances"><p id="control.i:Primary" class="caption collapser" onclick="toggleSection('i:Primary')">Instances</p><div id="section.i:Primary" class="show"><table><tr><td class="src"><a href="Data-Table.html#t:IsKeyType">IsKeyType</a> <a href="Data-Table.html#t:Primary">Primary</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Candidate" class="def">Candidate</a>  <a href="src/Data-Table.html#Candidate" class="link">Source</a></p><div class="subs instances"><p id="control.i:Candidate" class="caption collapser" onclick="toggleSection('i:Candidate')">Instances</p><div id="section.i:Candidate" class="show"><table><tr><td class="src"><a href="Data-Table.html#t:IsKeyType">IsKeyType</a> <a href="Data-Table.html#t:Candidate">Candidate</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Supplemental" class="def">Supplemental</a>  <a href="src/Data-Table.html#Supplemental" class="link">Source</a></p><div class="subs instances"><p id="control.i:Supplemental" class="caption collapser" onclick="toggleSection('i:Supplemental')">Instances</p><div id="section.i:Supplemental" class="show"><table><tr><td class="src"><a href="Data-Table.html#t:IsKeyType">IsKeyType</a> <a href="Data-Table.html#t:Supplemental">Supplemental</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Index" class="def">Index</a> t k a <span class="keyword">where</span><a href="src/Data-Table.html#Index" class="link">Source</a></p><div class="doc"><p>This is used to store a single index.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PrimaryIndex" class="def">PrimaryIndex</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> (<a href="Data-Table.html#t:PKT">PKT</a> t) t -&gt; <a href="Data-Table.html#t:Index">Index</a> t <a href="Data-Table.html#t:Primary">Primary</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:CandidateIndex" class="def">CandidateIndex</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> a t -&gt; <a href="Data-Table.html#t:Index">Index</a> t <a href="Data-Table.html#t:Candidate">Candidate</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SupplementalIndex" class="def">SupplementalIndex</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> a [t] -&gt; <a href="Data-Table.html#t:Index">Index</a> t <a href="Data-Table.html#t:Supplemental">Supplemental</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>